<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>會員中心</title>
    <link rel="shortcut icon" href="images/common/favicon.ico" />
    <script src="js/jquery.min.js"></script>

    <script src="js/jquery.modal.min.js"></script>

    <!-- <script src="js/orange.min.js"></script> -->

    <link rel="stylesheet" href="css/tree_growing.css" />

    <link rel="stylesheet" type="text/css" href="css/mem_center.css" />

    <link rel="stylesheet" href="code/jquery.modal.css" />

    <script src="js/vue.min.js"></script>

    <style>
      /* 覆蓋認養果樹訂單tree_growing.scss */
      section {
        margin-bottom: 20px;
        display: flex;
      } 
    </style>
  </head>

  <body>
    @@include('layout/header.html')
    <div class="app" id="app">
      <div class="banner">
        <ul class="breadcrumb">
          <li><a href="">首頁</a></li>
          <li><a href="">會員中心</a></li>
        </ul>
      </div>
      <div class="all">
        <form action="phps/updateMem_center.php" method="post"
        enctype="multipart/form-data">
          <ol class="member" v-for="item in all">
            <!-- 更新照片與否的真實位置 -->
            <!-- <input type="hidden" name="originImg" :value="item.mem_img"> -->
            <li class="pic">
              <!-- <img id="mem_img" :src="'images/mem/' + item.mem_img"/> -->
              
              <img :src="ShowImage ? ShowImage : 'images/mem/' + item.mem_img" class="show_space">

              <label class="camera" style="border: none;">
                <input id="updateImg" name="mem_img" type="file" style="display: none;" @change="imgchange"/>
                <img id="camera" src="images/common/update-camera.png" alt="" />
              </label>
            </li>
            <li class="info">
              <label>會員名稱</label>
              <input type="text" name="mem_name" :value="item.mem_name"/>
              <label>電子信箱</label>
              <input type="text" name="mem_email" :value="item.mem_email" disabled/>
              <label>連絡電話</label>
              <input type="text" name="mem_tel" :value="item.mem_tel"/>
             
              <!-- 假的欄位 -->
              <input type="hidden" name="mem_id" :value="item.mem_id"/>
              <input type="hidden" name="mem_psw" :value="item.mem_psw"/>
              <input type="hidden" name="mem_status" :value="item.mem_status"/>
              <!-- 假的欄位 -->
            </li>
            <li class="btn">
              <a href="#modal_password" rel="modal:open"
                ><button id="edit">修改密碼</button></a
              >
              <button id="save" type="submit">更新資料</button>
            </li>
          </ol>
        </form>
        <div class="order-select">
          <div class="tabs">
            <a class="select_1">
              <img src="images/common/tree_green.png" class="tree_green" style="display: block"/>
              <img src="images/common/tree_gray.png" class="tree_gray" style="display: none"/>
              <p>認養果樹訂單</p>
            </a>
            <a class="select_2">
              <img src="images/common/apple_green.png" class="apple_green" style="display: none"/>
              <img  src="images/common/apple_gray.png" class="apple_gray" style="display: block"/>
              <p>體驗行程訂單</p>
            </a>
            <a class="select_3">
              <img src="images/common/coupon_green.png" class="coupon_green" style="display: none"/>
              <img src="images/common/coupon_gray.png" class="coupon_gray" style="display: block"/>
              <p>折扣券</p>
            </a>
          </div>
          <ul class="orders">
            <!-- 認養果樹訂單 -->
            <li>
                
              <div class="for2" v-for="item in trees">
                <div class="item">
                  <div class="left">
                    <img id="plus" src="images/common/plus.png" alt="" />
                    <img id="minus" src="images/common/minus.png" alt="" />
                    <span>果樹名稱：</span>
                    <span>{{item.tree_name}}</span>
                  </div>
                  <div class="right">
                    <span>訂單編號：</span>
                    <span>{{item.t_order_id}}</span>
                  </div>
                </div>

                <!-- 認養訂單內容  -->
                <div class="detail">
                  <section>
                    <div class="fruit_tree_box">
                      <canvas class="item" width="2000" height="2000"></canvas>
                      <div class="tree_fruit_box">
                        <div>
                          <img class="tree_fruit" src="images/fruit/fruit_1.svg" alt="果實"/>
                          <img class="tree_fruit" src="images/fruit/fruit_1.svg" alt="果實"/>
                          <img class="tree_fruit" src="images/fruit/fruit_1.svg" alt="果實"/>
                          <img class="tree_fruit" src="images/fruit/fruit_1.svg" alt="果實"/>
                          <img class="tree_fruit" src="images/fruit/fruit_1.svg" alt="果實"/>
                          <img class="tree_fruit" src="images/fruit/fruit_1.svg" alt="果實"/>
                          <img class="tree_fruit" src="images/fruit/fruit_1.svg" alt="果實"/>
                          <img class="tree_fruit" src="images/fruit/fruit_1.svg" alt="果實"/>
                          <img class="tree_fruit" src="images/fruit/fruit_1.svg" alt="果實"/>
                          <div style="display: none">
                            <p class="fruit_id">{{item.fruit_id}}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="container">
                      <div class="content_top">
                        <p class="update">照片更新日期:{{item.treehistory_date}}</p>
                        <div class="con_imgbox">
                          <div class="img" style="width: 100%">
                            <img :src="'images/tree/' + item.treehistory_img" style="width: 50%">
                            <a href="#moreimg" rel="modal:open">
                              <input class="smallbtn_s" type="button" value="查看更多照片"/>
                              <!-- 隱藏的欄位 -->
                            <h1 class="tree_id" style="display: none;">{{item.tree_id}}</h1>              
                            <!-- 隱藏的欄位 -->
                            </a> 
                            
                          </div>
                        </div>
                      </div>
                      <div class="content_bottom">
                        <p class="update">資訊更新日期:{{item.tree_update}}</p>
                        <div class="con">
                          <div class="con_text">
                            <h2 class="con_text_title">{{item.tree_name}}</h2>
                            <div class="id">
                              <span>{{item.farm_name}}</span>
                              <span>果樹編號:{{item.tree_id}}</span>
                            </div>
                            <div class="data">
                              <div class="data_text">
                                <h3>尺寸</h3>
                                <h2 class="size">{{item.size}}</h2>
                              </div>
                              <div class="data_text">
                                <h3>數量</h3>
                                <h2 class="number">{{item.amount}}</h2>
                              </div>
                            </div>
                            <h3 class="price">
                              認養價格: {{item.tree_price}}$/年
                            </h3>
                          </div>
                        </div>
                      </div>
                    </div>
                  </section>
                </div>
              </div>
            </li>
            <!-- 彈跳視窗內容 -->
            <div id="moreimg" class="modal moreimg" >
              <!-- 隱藏的欄位 -->
              <p id="from_treeId" style="display: none;"></p>
               <!-- 隱藏的欄位 -->
              <div class="con">
                <h3>認養果樹歷史照片</h3>
                <div class="imgbox">
                  <table>
                    <tr>
                      <th>上傳時間</th>
                      <th>照片</th>
                    </tr>
                    <tr v-for='item in history_img'>
                      <td><p>{{item.treehistory_date}}</p></td>
                      <td><img :src="'./images/tree/' + item.treehistory_img"></td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>     
            <!-- 彈跳視窗內容 -->
            <!-- 體驗行程訂單 -->
            <li>
              <div class="for3" v-for='item in activitys'>
                <div class="item">
                  <div class="left">
                    <img id="plus" class="plus" src="images/common/plus.png" alt="" />
                    <img id="minus" class="minus" src="images/common/minus.png" alt=""/>
                    <span>活動名稱：</span>
                    <span id="activity_name">{{item.activity_name}}</span>
                  </div>
                  <div class="right">
                    <span>訂單編號：</span>
                    <span id="a_order_id">{{item.a_order_id}}</span>
                  </div>
                </div>
                <!-- 行程訂單內容 -->
                <div class="detail activity">
                  <table border="1" cellpadding="6">
                    <thead>
                      <tr>
                        <th>訂單日期</th>
                        <th>行程日期</th>
                        <th>姓名</th>
                        <th>信箱</th>
                        <th>人數</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>{{item.a_order_date}}</td>
                        <td>{{item.activity_date}}</td>
                        <td>{{item.mem_name}}</td>
                        <td>{{item.mem_email}}</td>
                        <td>{{item.a_order_people}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </li>
            <!-- 折扣券 -->
            <li>
              <div class="for4" v-for="item in coupons">
                <!-- 折扣券內容-->
                <div class="item">
                  <div class="left">
                    <img id="plus" class="plus" src="images/common/plus.png" alt="" />
                    <img id="minus" class="minus" src="images/common/minus.png" alt=""/>
                    <span>折扣面額：</span>
                    <span>${{item.coupon_t_price}}</span>
                  </div>
                  <div class="right">
                    <span>折扣券序號：</span>
                    <span>{{item.coupon_id}}</span>
                  </div>
                </div>
                <!-- 折扣券內容-->
                <div class="detail">
                  <table border="1" cellpadding="6">
                    <thead>
                      <tr>
                        <th>折扣券序號</th>
                        <th>折扣面額</th>
                        <th>使用狀態</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>{{item.coupon_id}}</td>
                        <td>{{item.coupon_t_price}}</td>
                        <td class="status">{{item.coupon_status}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
     
    </div>
    @@include('layout/modal_password.html') 
    @@include('layout/footer.html')

   <script src="js/mem_center.min.js"></script>
  </body>
</html>
